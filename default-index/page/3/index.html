<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"skk1faker.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","width":240,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="登峰造极">
<meta property="og:type" content="website">
<meta property="og:title" content="skk1faker 笔记">
<meta property="og:url" content="https://skk1faker.github.io/default-index/page/3/index.html">
<meta property="og:site_name" content="skk1faker 笔记">
<meta property="og:description" content="登峰造极">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="skk1faker">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://skk1faker.github.io/default-index/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"default-index/page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>skk1faker 笔记</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">skk1faker 笔记</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-navigation"><a href="/navigation" rel="section"><i class="fa fa-user fa-fw"></i>导航</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="skk1faker"
      src="/images/acm-icpc.png">
  <p class="site-author-name" itemprop="name">skk1faker</p>
  <div class="site-description" itemprop="description">登峰造极</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">59</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/skk1faker" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;skk1faker" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:skk1faker@163.com" title="E-Mail → mailto:skk1faker@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com" rel="noopener me" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2025/02/22/cf1979Manhattan-Triangle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/22/cf1979Manhattan-Triangle/" class="post-title-link" itemprop="url">cf1979Manhattan_Triangle</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-22 12:41:23" itemprop="dateCreated datePublished" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2025/02/22/cf2038E-Barrels/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/22/cf2038E-Barrels/" class="post-title-link" itemprop="url">cf2038E-Barrels</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-22 12:41:23" itemprop="dateCreated datePublished" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="题意">题意</h2>
<p>有n个水缸，每个水缸之间有n -
1个联通管，初始时加入一些水，现在向水缸里加入一些黏土，使得水面升高。如果黏土高度高过连通管的高度，那么连通管将被堵死不能使用，问经过一些列操作后，第一个管中最多会有多少水</p>
<h2 id="题解">题解</h2>
<p>主要通过模拟得到</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*================================================================</span></span><br><span class="line"><span class="comment">*   Copyright (C) 2024 Wang XinPeng. All rights reserved.</span></span><br><span class="line"><span class="comment">*   </span></span><br><span class="line"><span class="comment">*   filename:     CF2038E.cpp</span></span><br><span class="line"><span class="comment">*   username:     skt1faker</span></span><br><span class="line"><span class="comment">*   create time:  10:03  2024.12.29</span></span><br><span class="line"><span class="comment">*   modify time:  10:03  2024.12.29</span></span><br><span class="line"><span class="comment">*   email:        skk1faker@163.com</span></span><br><span class="line"><span class="comment">*   descripe:     </span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment">================================================================*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> lll __int128</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG0</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod1 = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod2 = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxx = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> h[maxx], v[maxx], n;</span><br><span class="line"><span class="type">double</span> sum[maxx];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">bar</span>&#123;</span><br><span class="line">	ll l,r;</span><br><span class="line">	<span class="type">double</span> h;	<span class="comment">// 桶内联通器</span></span><br><span class="line">	<span class="type">double</span> h_pre;</span><br><span class="line">&#125;s[maxx];</span><br><span class="line"><span class="type">int</span> front,rear;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	sum[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;v[i]);</span><br><span class="line">		sum[i + <span class="number">1</span>] = sum[i] + v[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>;i &lt; n - <span class="number">1</span>;i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;h[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	h[n - <span class="number">1</span>] = <span class="number">1e9</span>;</span><br><span class="line">	<span class="type">double</span> v_hsum = <span class="number">0</span>, v_now = <span class="number">0</span>;</span><br><span class="line">	front = <span class="number">0</span>,rear = <span class="number">-1</span>;</span><br><span class="line">	<span class="type">int</span> now_posi = n - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">do</span>&#123;</span><br><span class="line">		<span class="comment">// 栈中第一个元素为即将合并的元素</span></span><br><span class="line">		<span class="keyword">while</span>(now_posi != <span class="number">-1</span>  &amp;&amp; (rear - front &lt; <span class="number">1</span> || h[now_posi] &lt; s[rear].h ))&#123;</span><br><span class="line">			v_now += v[now_posi];</span><br><span class="line">			<span class="type">int</span> pre_height = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span>(now_posi == <span class="number">0</span>)&#123;</span><br><span class="line">				pre_height = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				pre_height = h[now_posi - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			s[++rear] = bar&#123;now_posi,now_posi,(<span class="type">double</span>)h[now_posi],(<span class="type">double</span>)pre_height&#125;;</span><br><span class="line">			v_hsum += pre_height;</span><br><span class="line">			now_posi--;</span><br><span class="line">			<span class="keyword">if</span>(rear - front &gt;= <span class="number">1</span> &amp;&amp; s[rear].h &gt; s[rear - <span class="number">1</span>].h)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 第一个元素一定为下一状态的高度</span></span><br><span class="line">		<span class="type">double</span> v_next = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(rear - front &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">			<span class="type">int</span> mode = <span class="number">0</span>;</span><br><span class="line">			v_next = v_hsum + (s[rear].h - s[rear].h_pre) *(s[rear].r - s[rear].l + <span class="number">1</span>);</span><br><span class="line">			<span class="type">double</span> v_add_value = v_now + h[s[front].r - <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">if</span>(v_next &lt;= v_add_value)&#123;		<span class="comment">// 此时可进入下一状态</span></span><br><span class="line">				v_hsum -= (s[rear - <span class="number">1</span>].r - s[rear - <span class="number">1</span>].l + <span class="number">1</span>) * (s[rear - <span class="number">1</span>].h_pre) + (s[rear].r - s[rear].l + <span class="number">1</span>) * (s[rear].h_pre);</span><br><span class="line">				s[rear - <span class="number">1</span>].l = s[rear].l;</span><br><span class="line">				s[rear - <span class="number">1</span>].h_pre = s[rear].h_pre;</span><br><span class="line">				rear--;</span><br><span class="line">				v_hsum += s[rear].h_pre * (s[rear].r - s[rear].l + <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(v_next &gt; v_add_value )&#123;		<span class="comment">// 此时这个管子已经没有作用了</span></span><br><span class="line">				<span class="keyword">if</span>(s[front].l != s[front].r)&#123;</span><br><span class="line">					<span class="type">double</span> length = s[front].r - s[front].l + <span class="number">1</span>;</span><br><span class="line">					v_now -= <span class="built_in">min</span>((v_add_value - (sum[s[front].l] - sum[s[rear].l])) / length , s[front].h_pre) - h[s[front].r - <span class="number">1</span>];</span><br><span class="line">				&#125;</span><br><span class="line">				v_hsum -= s[front].h_pre;</span><br><span class="line">				s[front].r--;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(s[front].l &gt; s[front].r)&#123;</span><br><span class="line">				s[front<span class="number">+1</span>].h = s[front].h;</span><br><span class="line">				front++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[front].l != s[front].r)&#123;	<span class="comment">// 最后一个合并的管子中管子数量大于一个时才能使用如下的算法</span></span><br><span class="line">			<span class="comment">// 元素不足两个，直接将剩余元素通过删管子删除</span></span><br><span class="line">			<span class="type">double</span> v_temp = v_now + h[s[front].r - <span class="number">1</span>];</span><br><span class="line">			<span class="type">double</span> length = s[front].r - s[front].l + <span class="number">1</span>;</span><br><span class="line">			v_now = v_temp * (length - <span class="number">1</span>) / length;</span><br><span class="line">			s[front].r--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">while</span>(!(rear == front &amp;&amp; s[front].l == s[front].r &amp;&amp; s[front].l == <span class="number">0</span>));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%0.20f\n&quot;</span>,v_now);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="comment">using namespace std;</span></span><br><span class="line"><span class="comment">typedef long long ll;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#define N 200000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int i,j,k,n,m,t,l,r,L=N+1,R=N,h[N+50],a[N+50],q[N+N+50];</span></span><br><span class="line"><span class="comment">double tot,h1,h2;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">	ios::sync_with_stdio(0); cin.tie(0);</span></span><br><span class="line"><span class="comment">	scanf(&quot;%d&quot;,&amp;n);</span></span><br><span class="line"><span class="comment">	for(i=1;i&lt;=n;i++)scanf(&quot;%d&quot;,&amp;a[i]);</span></span><br><span class="line"><span class="comment">	for(i=2;i&lt;=n;i++)scanf(&quot;%d&quot;,&amp;h[i]);</span></span><br><span class="line"><span class="comment">	h[1]=1e9;</span></span><br><span class="line"><span class="comment">	l=r=n; tot=a[n];</span></span><br><span class="line"><span class="comment">	for(r=n;r&gt;=2;r--)while(1)&#123;</span></span><br><span class="line"><span class="comment">		while(L&lt;=R&amp;&amp;q[R]&gt;r)R--;</span></span><br><span class="line"><span class="comment">		h1=(tot+h[r])/(r-l+1);</span></span><br><span class="line"><span class="comment">		if(L&lt;=R)&#123;</span></span><br><span class="line"><span class="comment">			h2=h[q[R]];</span></span><br><span class="line"><span class="comment">			if(h1&lt;h2)&#123;tot-=(h2-h[r]); break;&#125;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		if(h1&lt;h[l])&#123;tot-=(h1-h[r]); break;&#125;</span></span><br><span class="line"><span class="comment">		while(L&lt;=R&amp;&amp;h[q[L]]&lt;=h[l])L++;</span></span><br><span class="line"><span class="comment">		q[--L]=l; l--; tot+=a[l];</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">	printf(&quot;%.20lf&quot;,tot);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2025/02/22/c%E8%AF%AD%E8%A8%80%E5%8F%98%E9%95%BF%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/22/c%E8%AF%AD%E8%A8%80%E5%8F%98%E9%95%BF%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">c语言变长数组</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-22 12:41:23" itemprop="dateCreated datePublished" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="c语言变长数组的实现">c语言变长数组的实现</h1>
<p>变长数组指的是数组的长度可以任意改变，而不是可以定义任意长度的数组</p>
<p>这里给出他的写法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ss</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> n;      <span class="comment">// 变长数组的长度</span></span><br><span class="line">  <span class="type">char</span> a[<span class="number">0</span>];  <span class="comment">// 不可写为char *a, 否则会报错</span></span><br><span class="line">  <span class="comment">// 注意这里的a[0]不占内存，但是*a占内存</span></span><br><span class="line">  <span class="comment">// 因为sizeof(a) == 0, 所以需要一个n来给出当前变长数组的长度。</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  n = <span class="number">10</span>;</span><br><span class="line">  <span class="type">int</span> saf[n];           <span class="comment">// 这不是一个变长数组，因为一旦定义之后，就不能改变大小</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%ld&quot;</span>,<span class="built_in">sizeof</span>(saf));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 定义变长数组大小为n</span></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">ss</span> *b = (<span class="keyword">struct</span> ss *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> ss) + n * <span class="built_in">sizeof</span>(<span class="type">char</span>)); </span><br><span class="line">  b-&gt;n = n;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 现在改变数组的长度</span></span><br><span class="line">  n =  <span class="number">100</span>;</span><br><span class="line">  b = (<span class="keyword">struct</span> ss *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> ss) + n * <span class="built_in">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">  b-&gt;n = n;</span><br><span class="line"></span><br><span class="line">  <span class="type">char</span> c[<span class="number">10</span>] = <span class="string">&quot;wfasfa&quot;</span>;</span><br><span class="line">  <span class="built_in">memcpy</span>(b-&gt;a,c,<span class="built_in">sizeof</span>(c));</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,b-&gt;a);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 变长数组的大小不能使用sizeof得到</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%ld\n&quot;</span>,<span class="built_in">sizeof</span>(b-&gt;a));</span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">ss</span> *d = (<span class="keyword">struct</span> ss *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> ss) + <span class="number">10</span> * <span class="built_in">sizeof</span>(<span class="type">char</span> ));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>参考自：<br />
https://stackoverflow.com/questions/3607859/meaning-of-char-arr0<br />
https://blog.csdn.net/hyqsong/article/details/50863746<br />
https://blog.csdn.net/ligeforrent/article/details/48639277</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2025/02/22/dp%E4%BC%98%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/22/dp%E4%BC%98%E5%8C%96/" class="post-title-link" itemprop="url">dp优化</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-22 12:41:23" itemprop="dateCreated datePublished" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="dp斜率优化">dp斜率优化</h2>
<h2 id="wqs二分">wqs二分</h2>
<h2 id="四边形不等式">四边形不等式</h2>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2025/02/22/grub-%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87%E8%AE%BE%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/22/grub-%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87%E8%AE%BE%E7%BD%AE/" class="post-title-link" itemprop="url">grub_背景图片设置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-22 12:41:23" itemprop="dateCreated datePublished" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="grub添加背景图片">grub添加背景图片</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If you change this file, run &#x27;update-grub&#x27; afterwards to update</span></span><br><span class="line"><span class="comment"># /boot/grub/grub.cfg.</span></span><br><span class="line"><span class="comment"># For full documentation of the options in this file, see:</span></span><br><span class="line"><span class="comment">#   info -f grub -n &#x27;Simple configuration&#x27;</span></span><br><span class="line"></span><br><span class="line">GRUB_DEFAULT=0</span><br><span class="line">GRUB_TIMEOUT_STYLE=menu</span><br><span class="line">GRUB_TIMEOUT=10</span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || <span class="built_in">echo</span> Debian`</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet splash&quot;</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">&quot;&quot;</span></span><br><span class="line">GRUB_BACKGROUND=<span class="string">&quot;/home/skt1faker/Picture/acm-icpc.png&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment to enable BadRAM filtering, modify to suit your needs</span></span><br><span class="line"><span class="comment"># This works with Linux (no patch required) and with any kernel that obtains</span></span><br><span class="line"><span class="comment"># the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)</span></span><br><span class="line"><span class="comment">#GRUB_BADRAM=&quot;0x01234567,0xfefefefe,0x89abcdef,0xefefefef&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment to disable graphical terminal (grub-pc only)</span></span><br><span class="line"><span class="comment">#GRUB_TERMINAL=console</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The resolution used on graphical terminal</span></span><br><span class="line"><span class="comment"># note that you can use only modes which your graphic card supports via VBE</span></span><br><span class="line"><span class="comment"># you can see them in real GRUB with the command `vbeinfo&#x27;</span></span><br><span class="line"><span class="comment">#GRUB_GFXMODE=640x480</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment if you don&#x27;t want GRUB to pass &quot;root=UUID=xxx&quot; parameter to Linux</span></span><br><span class="line"><span class="comment">#GRUB_DISABLE_LINUX_UUID=true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment to disable generation of recovery mode menu entries</span></span><br><span class="line"><span class="comment">#GRUB_DISABLE_RECOVERY=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment to get a beep at grub start</span></span><br><span class="line"><span class="comment">#GRUB_INIT_TUNE=&quot;480 440 1&quot;</span></span><br><span class="line">GRUB_DISABLE_OS_PROBER=<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>背景图片的关键字是<code>GRUB_BACKGROUND</code>只要修改这个关键字就可以，之后保存。在终端中输入<code>sudo update-grub</code>更新即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">skt1faker@nwpu ~</span><br><span class="line">$ <span class="built_in">sudo</span> update-grub                                                          [19:59</span><br><span class="line">Sourcing file `/etc/default/grub<span class="string">&#x27;</span></span><br><span class="line"><span class="string">Sourcing file `/etc/default/grub.d/init-select.cfg&#x27;</span></span><br><span class="line">Generating grub configuration file ...</span><br><span class="line">Found background: /home/skt1faker/Picture/acm-icpc.png</span><br><span class="line">Found background image: /home/skt1faker/Picture/acm-icpc.png</span><br><span class="line">Found linux image: /boot/vmlinuz-5.15.0-107-generic</span><br><span class="line">Found initrd image: /boot/initrd.img-5.15.0-107-generic</span><br><span class="line">Found linux image: /boot/vmlinuz-5.15.0-106-generic</span><br><span class="line">Found initrd image: /boot/initrd.img-5.15.0-106-generic</span><br><span class="line">Found linux image: /boot/vmlinuz-5.13.0-51-generic</span><br><span class="line">Found initrd image: /boot/initrd.img-5.13.0-51-generic</span><br><span class="line">Found linux image: /boot/vmlinuz-5.11.0-34-generic</span><br><span class="line">Found initrd image: /boot/initrd.img-5.11.0-34-generic</span><br><span class="line">Found linux image: /boot/vmlinuz-5.11.0-27-generic</span><br><span class="line">Found initrd image: /boot/initrd.img-5.11.0-27-generic</span><br><span class="line">Found linux image: /boot/vmlinuz-5.11.0-25-generic</span><br><span class="line">Found initrd image: /boot/initrd.img-5.11.0-25-generic</span><br><span class="line">Found Windows Boot Manager on /dev/nvme0n1p1@/efi/Microsoft/Boot/bootmgfw.efi</span><br><span class="line">Found Ubuntu 20.04.4 LTS (20.04) on /dev/nvme0n1p6</span><br><span class="line">Adding boot menu entry <span class="keyword">for</span> UEFI Firmware Settings</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2024/08/31/%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E5%92%8C%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E7%9A%84%E4%BC%98%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/31/%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E5%92%8C%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E7%9A%84%E4%BC%98%E5%8C%96/" class="post-title-link" itemprop="url">完全背包和有限背包的优化</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-08-31 10:04:08" itemprop="dateCreated datePublished" datetime="2024-08-31T10:04:08+08:00">2024-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-22 12:41:23" itemprop="dateModified" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="有限背包的优化">有限背包的优化</h1>
<p>有限背包的朴素做法是：</p>
<p><span class="math display">\[
dp[i][j] = max_{num[i]&gt;=k&gt;=0 \&amp; j - k * w[i] &gt;=
0}(dp[i][j], dp[i - 1][j - k * w[i]] + k * v[i])
\]</span> 其中<span
class="math inline">\(dp[i][j]\)</span>表示前i种物品使用体积j能装的最大价值，<span
class="math inline">\(num[i]\)</span>表示第i个物品数量，<span
class="math inline">\(w[i]\)</span>表示体积，<span
class="math inline">\(v[i]\)</span>表示价值。可以看到，时间复杂度为<span
class="math inline">\(O(nW \times
num)\)</span>，num[i]过大时需要优化。</p>
<p>有限背包优化有两种方案
<code>1. 二进制优化 2. 单调队列</code>，先介绍二进制优化</p>
<h2 id="数的分解">数的分解</h2>
<p>这里先介绍一个规律，然后再利用这个规律进行优化</p>
<p>规律1：将数字<code>A</code>进行如下的二进制分解得到一组数，这组数通过组合可以得到<span
class="math inline">\([0,A]\)</span>中所有的数。 <span
class="math display">\[
\begin{align*} a_{1} &amp;= 1 \\ a_{2} &amp;= 2 \\ a_{3} &amp;= 2 ^ {3 -
1} \\ &amp;.\\ &amp;.\\ &amp;.\\a_{k - 1} &amp;= 2 ^ {k - 2} \\ a_{k}
&amp;= A - (2 ^ {k - 1} - 1)
\\ 2^{k-1} - 1 &amp;&lt;= A &lt;= 2^{k}
\end{align*}
\]</span></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> A;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;A);</span><br><span class="line"><span class="type">int</span> now_value = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> a[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">while</span>(A)&#123;</span><br><span class="line">    <span class="keyword">if</span>(A &lt;= now_value) now_value = A;</span><br><span class="line">    A -= now_value;</span><br><span class="line">    a[cnt] = now_value;</span><br><span class="line">    cnt++;</span><br><span class="line">    now_value *= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以简单的证明<span
class="math inline">\(a_{i}\)</span>的组合可以得到<span
class="math inline">\([0,A]\)</span>。按照程序可知<span
class="math inline">\(a_{k} &lt; 2^{k - 1}\)</span>，否则<span
class="math inline">\(a_{k}\)</span>可继续行向下二进制分解。因为<span
class="math inline">\(\sum_{i = 1}^{k - 1}a_{i} = 2^{k - 1} -
1\)</span>，所以前k - 1个数的自由组合可得到<span
class="math inline">\([0,2^{k - 1} - 1]\)</span>, 也即小于等于<span
class="math inline">\(a_{k}\)</span>的所有数都可以表示，而<span
class="math inline">\([a_{k},A]\)</span>范围可以视为<span
class="math inline">\(a_{k} + [0,2^{k - 1} -
1]\)</span>，即可用一个<span class="math inline">\(a_{k}\)</span>和<span
class="math inline">\(a_{1}...a_{k -
1}\)</span>中的数自由组合表示出所有的数。</p>
<p>利用规律一可以将有限背包转换为0/1背包，将有限背包中物品数量使用上述方式分解。</p>
<h2 id="二进制优化">二进制优化</h2>
<p>利用上述二进制分解的方式，将背包物品数量A分解为<span
class="math inline">\(a_{1},a_{2}......a_{k}\)</span>，可以知道，通过抽取集合<span
class="math inline">\({a_{1},a_{2},...,a_{k}}\)</span>中数字并求和可以得到<span
class="math inline">\([0,A]\)</span>之间的数字。利用这个原理，可以讲有限背包拆分为0/1背包，即拆分出体积为<span
class="math inline">\(a_{1},a_{2},...,a_{k}\)</span>的物品，将其视为一个整体。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*================================================================</span></span><br><span class="line"><span class="comment">*   Copyright (C) 2024 Wang XinPeng. All rights reserved.</span></span><br><span class="line"><span class="comment">*   </span></span><br><span class="line"><span class="comment">*   filename:     p4141.cpp</span></span><br><span class="line"><span class="comment">*   username:     skt1faker</span></span><br><span class="line"><span class="comment">*   create time:  14:46  2024.08.25</span></span><br><span class="line"><span class="comment">*   modify time:  14:46  2024.08.25</span></span><br><span class="line"><span class="comment">*   email:        skk1faker@163.com</span></span><br><span class="line"><span class="comment">*   descripe:     </span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> lll __int128</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG0</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod1 = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod2 = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxx = <span class="number">2e3</span> + <span class="number">10</span>;</span><br><span class="line">ll dp[maxx], a[maxx], num[maxx],dp2[maxx];			<span class="comment">// </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> n,m;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = m;j &gt;= <span class="number">0</span>;j--)&#123;</span><br><span class="line">			<span class="keyword">if</span>(j - a[i] &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">				dp[j] += dp[j - a[i]];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m;j++)&#123;</span><br><span class="line">			dp2[j] = dp[j];</span><br><span class="line">			<span class="keyword">if</span>(j - a[i] &gt;= <span class="number">0</span>)dp2[j] = dp[j] - dp2[j - a[i]];</span><br><span class="line">			<span class="keyword">if</span>(j &gt; <span class="number">0</span>)cout&lt;&lt;dp2[j] %<span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="滑动窗口优化">滑动窗口优化</h2>
<p>从朴素的做法中可以看出，<br />
<span class="math display">\[
\begin{cases}
dp[i][j] &amp;= max(dp[i - 1][j], dp[i - 1][j - w[i]] + v[i], dp[i -
1][j - 2 w[i]] + 2v[i] , ... ,dp[i - 1][j - num[i] * w[i]] + num[i] *
v[i])
\\dp[i][j - w[i]] &amp;= max(dp[i - 1][j - w[i]] + v[i], dp[i - 1][j - 2
* w[i]] + 2 * v[i], dp[i - 1][j - 3 * w[i]] + 3 * v[i] , ... ,dp[i -
1][j - (num[i] + 1) * w[i]] + (num[i] + 1) * v[i]) - v[i]
\\dp[i][j - 2w[i]] &amp;= max(dp[i - 1][j - 2w[i]] + 2v[i], dp[i - 1][j
- 3 * w[i]] + 3 * v[i], dp[i - 1][j - 4 * w[i]] + 4 * v[i] , ... ,dp[i -
1][j - (num[i] + 2) * w[i]] + (num[i] + 2) * v[i]) - 2v[i]
\end{cases}
\]</span></p>
<p>可以看出取最值的位置是一个滑窗，可将体积<span class="math inline">\(j
% w[i]\)</span>的分为一组做滑窗处理。</p>
<figure>
<img src="slide_windows.png" alt="滑窗过程" />
<figcaption aria-hidden="true">滑窗过程</figcaption>
</figure>
<h1 id="完全背包优化">完全背包优化</h1>
<p>完全背包的优化类似于有限背包的滑窗过程，可通过表达式推倒。</p>
<p><span class="math display">\[
\begin{cases}
dp[i][j] &amp;= max(dp[i - 1][j],dp[i - 1][j - w[i]] + v[i] .... dp[i -
1][j \% w[i]] + round(\frac{j}{w[i]}) * v[i])
\\&amp;= max(dp[i - 1][j], max(dp[i - 1][j - w[i]], dp[i - 1][j - 2w[i]]
+ v[i],...,dp[i - 1][j \% w[i]] + (round(\frac{j}{w[i]} - 1)) * v[i]) +
v[i])
\\&amp;= max(dp[i - 1][j] + dp[i][j - w[i]] + v[i])
\end{cases}
\]</span></p>
<p>最终可得</p>
<p><span class="math display">\[
dp[i][j] = max(dp[i - 1][j], dp[i][j - w[i]] + v[i]);
\]</span></p>
<h1 id="参考">参考</h1>
<p><a
target="_blank" rel="noopener" href="https://web.ntnu.edu.tw/~algo/KnapsackProblem.html">多种背包</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2024/06/21/%E6%AC%A7%E6%8B%89%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/21/%E6%AC%A7%E6%8B%89%E8%B7%AF%E5%BE%84/" class="post-title-link" itemprop="url">欧拉路径</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-21 20:15:28" itemprop="dateCreated datePublished" datetime="2024-06-21T20:15:28+08:00">2024-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-22 12:41:23" itemprop="dateModified" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1
id="无向图如何判断欧拉路径或者回路是否存在">无向图如何判断欧拉路径或者回路是否存在</h1>
<ol type="1">
<li>无向图联通</li>
<li>无向图所有节点的度为偶数则存在欧拉回路，
欧拉路径有且仅有两个节点度为奇数，剩余全为偶数。</li>
</ol>
<h1
id="求解欧拉回路或者欧拉路径的思路">求解欧拉回路或者欧拉路径的思路</h1>
<p>如果图中存在环，将环去掉，图依旧能搜索出欧拉路径和欧拉回路，利用这个原理可以求解欧拉回路。不断的求解图中的环，将环去掉，最后组装，得到欧拉回路。</p>
<p>按照上述思路给出欧拉路径求解代码所有</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ans = ans + char(x + &#x27;A&#x27;);		// 注意不能这么写</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">58</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[x][i] == <span class="number">1</span> || G[x][i] == <span class="number">0</span>)	</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		count++;</span><br><span class="line">		vis[x][i] = <span class="number">1</span>;</span><br><span class="line">		vis[i][x] = <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(i);             <span class="comment">// 回溯到这里说明已经找不到前进的路，那么这段路应该作为答案的结尾，因为这段路已经找不到前进的路。剩余未访问的边均为环，需要补充在路径中。刚刚的路径开始位置（也就是目前回溯回来的位置）要么接着一个环，要么接着到起点的一个路径。</span></span><br><span class="line">	&#125;</span><br><span class="line">	ans = <span class="built_in">char</span>(x + <span class="string">&#x27;A&#x27;</span>) + ans;		<span class="comment">// dfs后会产生一段路径，根据上述分析，回溯结束产生的路径应放在结尾。并且因为必须要先把结尾的路径确实才能确定后续的路径，所以采用了类似于后续遍历，不能使用前序遍历。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> start_posi = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(deg[i] % <span class="number">2</span> == <span class="number">1</span>)&#123;</span><br><span class="line">            count++;</span><br><span class="line">            start_posi = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(count == <span class="number">0</span> || count == <span class="number">2</span>)</span><br><span class="line">        <span class="built_in">dfs</span>(start_posi);</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码注释位置的图解如下： <img src="huisu.png" alt="回溯" /></p>
<p>可以见到，上述回溯位置之后的路径应该放在答案的结尾，他们找不到下一个可行的边，所以应该放在最后一个位置。所以每次都是在dfs计算完结尾路径之后才将当前位置加入路径。</p>
<h1 id="洛谷p1341">洛谷P1341</h1>
<h1 id="无序字母对">无序字母对</h1>
<h2 id="题目描述">题目描述</h2>
<p>给定 <span class="math inline">\(n\)</span>
个各不相同的无序字母对（区分大小写，无序即字母对中的两个字母可以位置颠倒）。请构造一个有
<span class="math inline">\((n+1)\)</span>
个字母的字符串使得每个字母对都在这个字符串中出现。</p>
<h2 id="输入格式">输入格式</h2>
<p>第一行输入一个正整数 <span class="math inline">\(n\)</span>。</p>
<p>第二行到第 <span class="math inline">\((n+1)\)</span>
行每行两个字母，表示这两个字母需要相邻。</p>
<h2 id="输出格式">输出格式</h2>
<p>输出满足要求的字符串。</p>
<p>如果没有满足要求的字符串，请输出 <code>No Solution</code>。</p>
<p>如果有多种方案，请输出字典序最小的方案（即满足前面的字母的 ASCII
编码尽可能小）。</p>
<h2 id="样例-1">样例 #1</h2>
<h3 id="样例输入-1">样例输入 #1</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">aZ</span><br><span class="line">tZ</span><br><span class="line">Xt</span><br><span class="line">aX</span><br></pre></td></tr></table></figure>
<h3 id="样例输出-1">样例输出 #1</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XaZtX</span><br></pre></td></tr></table></figure>
<h2 id="提示">提示</h2>
<p>不同的无序字母对个数有限，<span class="math inline">\(n\)</span>
的规模可以通过计算得到。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*================================================================</span></span><br><span class="line"><span class="comment">*   Copyright (C) 2024 Wang XinPeng. All rights reserved.</span></span><br><span class="line"><span class="comment">*   </span></span><br><span class="line"><span class="comment">*   filename:     P1341.cpp</span></span><br><span class="line"><span class="comment">*   username:     skt1faker</span></span><br><span class="line"><span class="comment">*   create time:  11:49  2024.06.21</span></span><br><span class="line"><span class="comment">*   modify time:  11:49  2024.06.21</span></span><br><span class="line"><span class="comment">*   email:        skk1faker@163.com</span></span><br><span class="line"><span class="comment">*   descripe:     </span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> lll __int128</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG0</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod1 = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod2 = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxx = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> vis[<span class="number">58</span>][<span class="number">58</span>],G[<span class="number">58</span>][<span class="number">58</span>];</span><br><span class="line"><span class="type">int</span> to[maxx];</span><br><span class="line"><span class="type">int</span> next_[maxx];</span><br><span class="line"><span class="type">int</span> head[<span class="number">58</span>],tot;</span><br><span class="line"><span class="type">int</span> fa[<span class="number">58</span>],have_one[<span class="number">58</span>],deg[<span class="number">58</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="built_in">sizeof</span>(head));</span><br><span class="line">	<span class="built_in">memset</span>(have_one,<span class="number">-1</span>,<span class="built_in">sizeof</span>(have_one));</span><br><span class="line">	tot = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_fa</span><span class="params">(<span class="type">int</span> a)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(fa[a] == a)<span class="keyword">return</span> a;</span><br><span class="line">	<span class="keyword">return</span> fa[a] = <span class="built_in">find_fa</span>(fa[a]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> fa_x = <span class="built_in">find_fa</span>(x),fa_y = <span class="built_in">find_fa</span>(y);</span><br><span class="line">	<span class="keyword">if</span>(fa_x != fa_y)fa[fa_x] = fa_y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_edge</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">merge</span>(a,b);</span><br><span class="line">	deg[a] ++;</span><br><span class="line">	deg[b] ++;</span><br><span class="line">	have_one[a] = <span class="number">1</span>;</span><br><span class="line">	G[a][b] = <span class="number">1</span>;</span><br><span class="line">	G[b][a] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">string ans;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="comment">//ans = ans + char(x + &#x27;A&#x27;);</span></span><br><span class="line">	<span class="comment">//cout&lt;&lt;ans&lt;&lt;endl;</span></span><br><span class="line">	<span class="comment">//for(int i = head[x];i != -1;i = next_[i])&#123;</span></span><br><span class="line">	<span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">58</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[x][i] == <span class="number">1</span> || G[x][i] == <span class="number">0</span>)	</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="comment">//printf(&quot;%c%c\n&quot;,char(x + &#x27;A&#x27;),char(i + &#x27;A&#x27;));</span></span><br><span class="line">		<span class="comment">//if(count == 1)&#123;cout&lt;&lt;ans&lt;&lt;endl;assert(0);&#125;</span></span><br><span class="line">		count++;</span><br><span class="line">		vis[x][i] = <span class="number">1</span>;</span><br><span class="line">		vis[i][x] = <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	ans = <span class="built_in">char</span>(x + <span class="string">&#x27;A&#x27;</span>) + ans;		<span class="comment">// ??为什么这样写</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> n, min_val = <span class="number">100</span>;</span><br><span class="line">	<span class="built_in">init</span>();</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">		<span class="type">char</span> temp[<span class="number">3</span>];</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,temp);</span><br><span class="line">		<span class="comment">//printf(&quot;%s\n&quot;,temp);</span></span><br><span class="line">		<span class="built_in">add_edge</span>(temp[<span class="number">0</span>] - <span class="string">&#x27;A&#x27;</span>,temp[<span class="number">1</span>] - <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">		<span class="built_in">add_edge</span>(temp[<span class="number">1</span>] - <span class="string">&#x27;A&#x27;</span>,temp[<span class="number">0</span>] - <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//cout&lt;&lt;temp[1] - &#x27;A&#x27;&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">		min_val = <span class="built_in">min</span>(min_val,temp[<span class="number">0</span>] - <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">		min_val = <span class="built_in">min</span>(min_val,temp[<span class="number">1</span>] - <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> fa_temp = <span class="built_in">find_fa</span>(min_val), flag = <span class="number">0</span>,flag1 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">58</span> &amp;&amp; flag == <span class="number">0</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(have_one[i] == <span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(((deg[i] / <span class="number">2</span>) % <span class="number">2</span>) == <span class="number">1</span>)&#123;</span><br><span class="line">				flag1 += <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span>(flag1 == <span class="number">1</span>)min_val = i;</span><br><span class="line">			&#125;;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">find_fa</span>(i) != fa_temp)flag = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(flag == <span class="number">0</span> &amp;&amp; (flag1 == <span class="number">0</span> || flag1 == <span class="number">2</span>))&#123;</span><br><span class="line">		<span class="built_in">dfs</span>(min_val);</span><br><span class="line">		cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No Solution&quot;</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2024/05/27/vim%E5%88%87%E6%8D%A2normal%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/27/vim%E5%88%87%E6%8D%A2normal%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/" class="post-title-link" itemprop="url">vim切换normal模式下的中英文切换</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-05-27 11:38:40" itemprop="dateCreated datePublished" datetime="2024-05-27T11:38:40+08:00">2024-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-22 12:41:23" itemprop="dateModified" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>#　vim插件可以实现切换到normal模式和其他模式时的中英文自动切换</p>
<p><a target="_blank" rel="noopener" href="https://github.com/h-youhei/vim-ibus">插件地址</a></p>
<p>nvim中使用<code>use("h-youhei/vim-ibus")</code>将插件安装,之后在配置中使用
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let g:ibus#layout = <span class="string">&#x27;xkb:us::eng&#x27;</span></span><br><span class="line">let g:ibus#engine = <span class="string">&#x27;rime&#x27;</span>          </span><br></pre></td></tr></table></figure> g:ibus#engine的值使用<code>ibus engine</code>可以得到</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(homework)</span><br><span class="line">skt1faker@nwpu ~/website/notebook/source/_drafts</span><br><span class="line">master* $ ibus engine                                                      [11:36:32]</span><br><span class="line">xkb:us::eng</span><br><span class="line"></span><br><span class="line">(homework)</span><br><span class="line">skt1faker@nwpu ~/website/notebook/source/_drafts</span><br><span class="line">master* $ ibus engine                                                      [11:36:37]</span><br><span class="line">rime</span><br></pre></td></tr></table></figure>
<p>两个命令前后是我切换输入法的结果。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2024/05/27/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B125-%E9%A3%8E%E8%BD%A6II/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/27/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B125-%E9%A3%8E%E8%BD%A6II/" class="post-title-link" itemprop="url">牛客练习赛125-风车II</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-05-27 11:36:02" itemprop="dateCreated datePublished" datetime="2024-05-27T11:36:02+08:00">2024-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-22 12:41:23" itemprop="dateModified" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="题意">题意</h1>
<p>给一个<span class="math inline">\(n \times
m\)</span>的网格,每个网格有不同的<span
class="math inline">\(a_{ij}\)</span>代表风车颜色，每个网格有不同的风车数量<span
class="math inline">\(b_{ij}\)</span>，小明在<code>(1,1)</code>点，每次只能向x或y坐标增大的方向运动。如果小明只能选择一个颜色的风车收集，那么小明最多能获得多少风车。</p>
<h1 id="思路">思路</h1>
<p>很明显这是一个dp问题，假设<span
class="math inline">\(dp[v][i][j]\)</span>为选择颜色v时走到ij位置时获得最大的风车数量，我们列出简单的dp表达式，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(ijnt v = <span class="number">1</span>;v &lt;= max_value;v++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i][j] == v)dp[v][i][j] = <span class="built_in">max</span>(dp[v][i - <span class="number">1</span>][j],dp[v][i][j - <span class="number">1</span>]) + c[i][j];</span><br><span class="line">            <span class="keyword">else</span> dp[v][i][j] = <span class="built_in">max</span>(dp[v][i - <span class="number">1</span>][j],dp[v][i][j - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对空间优化可以通过检查方块遍历与更新的顺序得出，通过记录对未来即将使用的变量进行观察，可以得出如下结论。</p>
<p>这里讨论一种颜色的情况。其中x是当前要计算的位置，v是计算x需要使用的值，s是未来会用到的值。综合来看，s和v都是未来需要用到的值，未来使用的值永远只有一列，所以可以将一个维度抹去，得到如下的计算表达式。</p>
<figure>
<img src="牛客练习赛125-风车II/calculate_order.png"
alt="calculate_order" />
<figcaption aria-hidden="true">calculate_order</figcaption>
</figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">for</span>(ijnt v = <span class="number">1</span>;v &lt;= max_value;v++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j++)&#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            if(a[i][j] == v)dp[v][j] = max(dp[v][j],dp[v][j - 1]) + c[i][j];</span></span><br><span class="line"><span class="comment">            else dp[v][j] = max(dp[v][j],dp[v][j - 1]);</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="comment">// 等价于上述代码</span></span><br><span class="line">            dp[v][j] = <span class="built_in">max</span>(dp[v][j],dp[v][j - <span class="number">1</span>])；</span><br><span class="line">            <span class="keyword">if</span>(a[i][j] == v) dp[v][j] += c[i][j];</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>但这种优化并不能满足题意，如果将每种颜色的坐标抽出单独处理可能会满足时间复杂度。将每一种颜色的坐标放在一起，并按照行优先的顺序排序得到P，假设按顺序访问到<code>[x,y]</code>根据这个思路可以得到新的dp表达式计算个公式</p>
<p><span class="math display">\[
    dp[v][y] = max_{0&lt;=j&lt;=y}(dp[v][j]) + c[x][y];
\]</span></p>
<p>可以看到max在查询需要查询前y个值的最大值（可以使用离散化处理y，y值会更小），单点修改和区间查询最大值，且区间比较特殊，可以使用树状数组。具体操作可以看下面。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxx = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[maxx&lt;&lt;<span class="number">1</span>],c[maxx&lt;&lt;<span class="number">1</span>];</span><br><span class="line">ll tree[maxx&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> dis_posi[maxx &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> max_value,n,m;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (x &amp; (-x));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= max_value;i++)tree[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> posi,ll value)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = posi;i &lt;= max_value;i += <span class="built_in">lowbit</span>(i))&#123;</span><br><span class="line">    tree[i] = <span class="built_in">max</span>(tree[i], value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">get_value</span><span class="params">(<span class="type">int</span> posi)</span></span>&#123;</span><br><span class="line">  <span class="type">int</span> ans = posi;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = posi;i &gt; <span class="number">0</span>;i -= <span class="built_in">lowbit</span>(i))&#123;</span><br><span class="line">    ans = tree[ans] &gt; tree[i] ? ans : i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> tree[ans];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">get_posi</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x * m + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">disert</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A)</span></span>&#123;</span><br><span class="line">  <span class="built_in">sort</span>(A.<span class="built_in">begin</span>(),A.<span class="built_in">end</span>());</span><br><span class="line">  A.<span class="built_in">erase</span>(<span class="built_in">unique</span>(A.<span class="built_in">begin</span>(),A.<span class="built_in">end</span>()),A.<span class="built_in">end</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> T;</span><br><span class="line">  cin&gt;&gt;T;</span><br><span class="line">  <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;color;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> j =<span class="number">0</span> ;j &lt; m;j++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[<span class="built_in">get_posi</span>(i,j)]);</span><br><span class="line">        color.<span class="built_in">push_back</span>(a[<span class="built_in">get_posi</span>(i,j)]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    sort(color.begin(),color.end());</span></span><br><span class="line"><span class="comment">    color.erase(unique(color.begin(),color.end()),color.end());</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="built_in">disert</span>(color);</span><br><span class="line">    vector&lt;vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt;<span class="built_in">v</span>(color.<span class="built_in">size</span>(),vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j++)&#123;</span><br><span class="line">        <span class="type">int</span> posi = <span class="built_in">lower_bound</span>(color.<span class="built_in">begin</span>(),color.<span class="built_in">end</span>(),a[<span class="built_in">get_posi</span>(i,j)]) - color.<span class="built_in">begin</span>();</span><br><span class="line">        v[posi].<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(i,j));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;c[<span class="built_in">get_posi</span>(i,j)]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; color.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">      vector&lt;<span class="type">int</span>&gt;p;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; v[i].<span class="built_in">size</span>();j++)&#123;</span><br><span class="line">        p.<span class="built_in">push_back</span>(v[i][j].second);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">disert</span>(p);</span><br><span class="line">      max_value = p.<span class="built_in">size</span>();</span><br><span class="line">      <span class="built_in">init</span>();</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; v[i].<span class="built_in">size</span>();j++)&#123;</span><br><span class="line">        <span class="type">int</span> posi = <span class="built_in">lower_bound</span>(p.<span class="built_in">begin</span>(),p.<span class="built_in">end</span>(),v[i][j].second) - p.<span class="built_in">begin</span>() + <span class="number">1</span>;</span><br><span class="line">        ll value = <span class="built_in">get_value</span>(posi) + c[<span class="built_in">get_posi</span>(v[i][j].first,v[i][j].second)];</span><br><span class="line">        ans = <span class="built_in">max</span>(value,ans);</span><br><span class="line">        <span class="built_in">update</span>(posi,value);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://skk1faker.github.io/2024/05/27/steam%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/acm-icpc.png">
      <meta itemprop="name" content="skk1faker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="skk1faker 笔记">
      <meta itemprop="description" content="登峰造极">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | skk1faker 笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/27/steam%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">steam无法启动的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-05-27 11:14:06" itemprop="dateCreated datePublished" datetime="2024-05-27T11:14:06+08:00">2024-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-22 12:41:23" itemprop="dateModified" datetime="2025-02-22T12:41:23+08:00">2025-02-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="终端报错">终端报错</h1>
<p>终端输入steam后报错如下： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cannot update snap namespace: cannot <span class="built_in">expand</span> mount entry (none <span class="variable">$HOME</span>/.local/share none x-snapd.kind=ensure-dir,x-snapd.must-exist-dir=<span class="variable">$HOME</span> 0 0): cannot use invalid home directory <span class="string">&quot;/home/skt1faker&quot;</span>: permission denied</span><br><span class="line">snap-update-ns failed with code 1</span><br></pre></td></tr></table></figure></p>
<p>这种问题可能是由于软件更新导致了home目录权限除了问题，需要将<code>chown -R skt1faker:skt1faker /home/skt1faker</code>
jin xing xiu gai</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/default-index/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/default-index/">1</a><a class="page-number" href="/default-index/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/default-index/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/default-index/page/8/">8</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/default-index/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2023 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">skk1faker</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"skk1faker/blog_source","issue_term":"pathname","theme":"github-dark"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
